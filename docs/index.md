---
marp: true
title: Нагружаем банки
description: Как ускорить запросы к InfluxDB с помощью InfluxQL Continuous Queries и разделения данных 
theme: vtb_tks
template: bespoke
paginate: true
_paginate: false

---

<!-- _class: lead12
-->

# Нагружаем банки<br>Смирнов Вячеслав<br>Рогожников Максим

## __Москва, 2021__

<!--

-->

---
<!-- _class: main
-->

# О технологиях и подходах реализации нагрузки в двух разных командах

---

<!-- _class: title-->

# Тестирую и ускоряю ДБО для юридических лиц в банке ВТБ
## __Развиваю @qa_load__

![bg cover](img/omsk.jpg)

<!-- 
Повышаю качество более десяти лет. Занимаюсь системой дистанционного банковского обслуживания юридических лиц. Основной профиль моей работы — тестирование производительности. Развиваю сообщество инженеров по тестированию производительности, помогая коллегам в telegram чате «QA — Load & Performance».
-->

---


<!-- _class: title_tks -->

# Тестирую и ускоряю системы в Тинькофф
## __Развиваю @qa_load__

![bg cover](img/Maks.jpg)

<!-- 

-->

---
<!-- _class: main -->

* Планирование
* Профиль нагрузки
* Инструменты
* Тестовый стенд
* Тестовые данные
* Тестирование на продуктиве
* Виды тестов
* CI/CD для нагрузки
* Мониторинг
* Логи
* Отчеты
* Кто делает запуски тестов
* Кто поддерживает тесты


---
<!-- _class: main
-->

# Планирование

---
<!-- _class: head_tks
-->
# Канбан

**_![ opacity:40% ](themes/img/tks2.png)_**

---
<!-- class: head2 -->
# Скрам

**_![ opacity:20% ](themes/img/lead/lead04.png)_**

---
<!-- _class: main
-->

# Профиль нагрузки

---

<!-- class: head2 -->

# Сбор профиля по продуктиву

## __Пропорции продуктива с более высокой интенсивностью__

**_![ opacity:20%  ](themes/img/lead/lead04.png)_**

---
<!-- _class: head_tks
-->
# Автосбор профиля по RED либо по логам

## 

**_![ opacity:40% ](themes/img/tks2.png)_**

---
<!-- _class: main
-->

# Инструменты

---

# Maven, JMeter Maven Plugin, JMeter и его плагины

## __Самое простое: Firefox + Fiddler__

## __Посложнее: Skype + коллега__

## __Регулярно: Apache.JMeter__

**_![ opacity:20%  ](themes/img/lead/lead04.png)_**

---
<!-- _class: head_tks
-->
# SBT, Gatling + свои плагины, Scala, K6, GoLang

## __Единообразный процесс запуска НТ__

## __Вне зависимости от инструмента__

## __Не важно что генерирует нагрузку__

Вы всегда получите
один и тот жерезультат 
и набор графиков

**_![ opacity:40% ](themes/img/tks.png)_**

---
<!-- _class: main
-->

# Тестовый стенд

---

# Фиксированные стенды, одно плечо продуктива

##

**_![ opacity:20%  ](themes/img/lead/lead04.png)_**

---
<!-- _class: head_tks
-->
# Отдельные NS в k8s или переиспользуем стенд

## __Системы объединены по направлению__
И у них должны быть 
одинаковые потребности 
по ресурсам

## __Стараемся делать 1 плечо прода__

1 датацентр либо 
1 плечо нагрузки 

**_![ opacity:40% ](themes/img/tks.png)_**

---
<!-- _class: main
-->

# Тестовые данные

---
<!-- _class: main
-->

# Тестирование на продуктиве

---
<!-- _class: main
-->

# Виды тестов

---
<!-- _class: main
-->

# CI/CD для нагрузки

---
<!-- _class: main
-->

# Мониторинг

---
<!-- _class: main
-->

# Логи

---
<!-- _class: main
-->

# Отчеты

---
<!-- _class: main
-->

# Кто делает запуски тестов

---
<!-- _class: main
-->

# Кто поддерживает тесты


---
<!-- _class: main
-->

# Итоги


---

<!-- _class: lead12
-->

# Вопросы/ответы<br> Нагружаем банки<br>ВТБ, Тинькофф

## __Вячеслав, Максим, @qa_load__



